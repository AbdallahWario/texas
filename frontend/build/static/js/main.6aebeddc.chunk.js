(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{72:function(e,t){},94:function(e,t,s){},95:function(e,t,s){"use strict";s.r(t);var c=s(1),i=s.n(c),r=s(39),n=s.n(r),a=s(3),l=s(5),o=s(4),d=s.n(o),j=s(7),u=s(2),m=s(0);var b=function(){return Object(m.jsx)("header",{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{children:"Welcome to IsioloTimes"}),Object(m.jsxs)("p",{style:{marginBottom:0},children:["Get All News pertaining to Isiolo here."," "]})," "]})})},h=s(20),O=s.n(h);var x=function(e){return Object(m.jsx)(a.b,{to:"/article/".concat(e.post.url),style:{textDecoration:"none",color:"rgb(31,31,31)"},children:Object(m.jsxs)("div",{className:"cart",children:[Object(m.jsx)("img",{alt:e.post.title,src:e.post.img,className:"cart-img"}),Object(m.jsx)("div",{className:"cartbg"}),Object(m.jsxs)("div",{className:"cart-text",children:[Object(m.jsxs)("h2",{style:{color:"rgb(31,31,31)",fontSize:"28px"},children:[e.post.title," "]}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("img",{src:"https://i.ibb.co/KFBZ2L3/profile.jpg",className:"postcard-profile"}),Object(m.jsxs)("div",{className:"username-date",children:[Object(m.jsx)("span",{className:"cart-user",children:"Burhan Kocada\u011f"}),Object(m.jsx)("p",{className:"cart-date",children:e.post.created_date})]})]})]})]},e.post.id)})};var p=function(){return Object(m.jsxs)("div",{className:"loading-cart",children:[Object(m.jsx)("div",{className:"loading-cart-img"}),Object(m.jsxs)("div",{className:"loading-cart-text",children:[Object(m.jsx)("div",{style:{display:"flex"},children:Object(m.jsx)("div",{className:"loading-span",children:" "})}),Object(m.jsx)("p",{}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("div",{className:"loading-cart-profile"}),Object(m.jsx)("div",{className:"loading-btn"})]})]})]})};var g=function(e){return Object(m.jsx)(a.b,{to:"/article/".concat(e.post.url),style:{textDecoration:"none",color:"rgb(31,31,31)"},children:Object(m.jsx)("div",{className:"post-card2",children:Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("img",{id:"post-card2-img",src:"".concat(e.post.img)}),Object(m.jsxs)("div",{className:"p-3",children:[Object(m.jsxs)("h2",{style:{color:"rgb(31,31,31)"},children:[e.post.title," "]}),Object(m.jsxs)("div",{className:"mt-3",style:{position:"relative"},children:[Object(m.jsx)("img",{src:"https://i.ibb.co/KFBZ2L3/profile.jpg",className:"postcard-profile"}),Object(m.jsxs)("div",{className:"username-date",children:[Object(m.jsx)("span",{className:"cart-user",children:"Burhan Kocada\u011f"}),Object(m.jsx)("p",{className:"cart-date",children:e.post.created_date})]})]})]})]})})})};var f=function(){return Object(m.jsx)("div",{className:"loading-post-card2",children:Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("div",{id:"loading-post-card2-img",children:" "}),Object(m.jsxs)("div",{className:"p-3",children:[Object(m.jsx)("div",{className:"title-card2"}),Object(m.jsxs)("div",{className:"mt-3",style:{position:"relative"},children:[Object(m.jsx)("div",{className:"loading-postcard-profile",children:" "}),Object(m.jsxs)("div",{className:"loading-username-date",children:[Object(m.jsx)("span",{className:"loading-cart-user"}),Object(m.jsx)("p",{className:"loading-cart-date"})]})]})]})]})})};var v=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),i=s[0],r=s[1],n=Object(c.useState)([]),a=Object(u.a)(n,2),l=a[0],o=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return o(e)}));case 3:setTimeout((function(){r(!1)}),400);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{}),Object(m.jsx)("main",{children:Object(m.jsxs)("div",{className:"container",style:{marginTop:"6rem"},children:[Object(m.jsx)("p",{className:"sectoin-title",children:"Most popular articles"}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 col-sm-12 col-lg-12",children:Object(m.jsx)("div",{className:"left-side",children:Object(m.jsx)("div",{className:"row",children:i?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(m.jsx)(f,{})}),Object(m.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(m.jsx)(f,{})})]}):0!=l.length?l.sort((function(e,t){return e.likes.length<t.likes.length?1:-1})).map((function(e){return Object(m.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(m.jsx)(g,{post:e})},e.id)})).slice(0,2):Object(m.jsx)("div",{className:"warning-alert",children:"There is no articles."})})})})})}),Object(m.jsx)("p",{className:"sectoin-title",children:"Last articles"}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 col-sm-12 col-lg-12",children:Object(m.jsx)("div",{className:"left-side",children:Object(m.jsx)("div",{className:"row",children:i?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(p,{})})]}):0!=l.length?l.sort((function(e,t){return e.id<t.id?1:-1})).map((function(e){return Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(x,{post:e})},e.id)})).slice(0,6):Object(m.jsx)("div",{className:"warning-alert",children:"There is no articles."})})})})})})]})})]})},N=s(11),y=s.n(N);var L=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),s=t[0],i=t[1],r=Object(c.useState)(""),n=Object(u.a)(r,2),a=n[0],o=n[1],b=Object(c.useState)(""),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(""),g=Object(u.a)(p,2),f=g[0],v=g[1],N=Object(c.useState)(""),L=Object(u.a)(N,2),S=L[0],w=L[1],T=Object(l.f)();function k(){var e=document.querySelector(".login-registerbg"),t=document.querySelector(".login-register"),c=document.querySelector(".login-error"),r=document.querySelector(".login-error-text"),n=document.querySelector("#loginbtn"),l=document.querySelector(".login-username-input"),u=document.querySelector(".login-password-input"),m=document.querySelector(".login-username-error"),b=document.querySelector(".login-password-error");(""==s?(l.classList.add("error"),m.classList.add("d-active")):(l.classList.remove("error"),m.classList.remove("d-active")),""==a?(b.classList.add("d-active"),u.classList.add("error")):(u.classList.remove("error"),b.classList.remove("d-active")),""!=s&&""!=a)&&function(){var m=Object(j.a)(d.a.mark((function j(){return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:n.innerHTML="<div class='lds-ellipsis'><div></div><div></div><div></div><div></div></div></button>",n.disabled=!0,fetch("http://localhost:8000/api/token/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({username:s,password:a})}).then(setTimeout((function(){n.innerHTML="Login",n.disabled=!1}),1e3)).then((function(e){return e.json()})).then((function(s){return s.detail||s.username?s.detail?setTimeout((function(){c.classList.remove("scaled"),c.classList.add("d-active"),r.innerHTML="Username or password is incorrect.",setTimeout((function(){c.classList.add("scaled")}),50)}),1e3):"":setTimeout((function(){c.classList.remove("d-active"),u.value="",l.value="",i(""),o(""),localStorage.setItem("token",s.access),e.classList.toggle("d-active"),t.classList.toggle("d-active"),setTimeout((function(){document.querySelector(".login-register-form").classList.toggle("scaled")}),10),document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.add("success"),document.querySelector(".bottom-alert").classList.remove("warning"),document.querySelector("#bottom-alert-text").innerHTML="You have logged successfully",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3),T.push("/profile/ ")}),1e3)}));case 3:case"end":return d.stop()}}),j)})));return function(){return m.apply(this,arguments)}}()()}function q(){var e=document.querySelector(".register-error"),t=document.querySelector(".register-success"),s=document.querySelector("#registerbtn"),c=document.querySelector(".register-error-text"),i=document.querySelector(".register-success-text"),r=document.querySelector(".register-username-error"),n=document.querySelector(".register-password-error"),a=document.querySelector(".register-confirmpassword-error"),l=document.querySelector("#username"),o=document.querySelector("#password"),d=document.querySelector("#confirmpassword");""==O?(l.classList.add("error"),r.classList.add("d-active")):(l.classList.remove("error"),r.classList.remove("d-active")),""==f?(n.classList.add("d-active"),o.classList.add("error")):(o.classList.remove("error"),n.classList.remove("d-active")),""==S?(a.classList.add("d-active"),d.classList.add("error")):(d.classList.remove("error"),a.classList.remove("d-active")),O&&O.length<4?(t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML="Username length should be more than 4",setTimeout((function(){e.classList.add("scaled")}),100)):O&&O.length>24?(t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML="Username length should be less than 24",setTimeout((function(){e.classList.add("scaled")}),100)):f&&f.length<6?(t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML="Password length should be more than 6",setTimeout((function(){e.classList.add("scaled")}),100)):f&&f.length>32?(t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML="Password length should be less than 32",setTimeout((function(){e.classList.add("scaled")}),100)):f!=S&&(t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML="Passwords are not same",setTimeout((function(){e.classList.add("scaled")}),100)),""!=O&&""!=f&&""!=S&&f==S&&O.length>4&&f.length>6&&f.length<32&&O.length<24&&(s.innerHTML="<div class='lds-ellipsis'><div></div><div></div><div></div><div></div></div></button>",s.disabled=!0,fetch("http://localhost:8000/api/register/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({username:O,password:f,repassword:S})}).then(setTimeout((function(){s.innerHTML="Register",s.disabled=!1}),1e3)).then((function(e){return e.json()})).then((function(s){return s.username!=O?setTimeout((function(){t.classList.remove("d-active"),t.classList.remove("scaled"),e.classList.remove("d-active"),e.classList.remove("scaled"),e.classList.add("d-active"),c.innerHTML=s.username,setTimeout((function(){e.classList.add("scaled")}),100)}),1e3):setTimeout((function(){l.value="",o.value="",d.value="",w(""),v(""),x(""),e.classList.remove("d-active"),e.classList.remove("scaled"),t.classList.remove("d-active"),t.classList.remove("scaled"),t.classList.add("d-active"),i.innerHTML="You signed up successfully",setTimeout((function(){t.classList.remove("d-active")}),5e3),setTimeout((function(){t.classList.add("scaled")}),100)}),1e3)})))}function C(e){"Enter"===e.key&&q()}function _(e){"Enter"===e.key&&k()}return Object(m.jsx)("div",{className:"login-register",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"login-register-form",children:[Object(m.jsx)("div",{className:"login-register-side",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{className:"login-btn w-100",onClick:function(){document.querySelector(".login-btn").style.backgroundColor="white",document.querySelector(".register-btn").style.backgroundColor="#f1f1f1",document.querySelector("#login").style.display="block",document.querySelector("#register").style.display="none",document.querySelector("#register").classList.remove("scaled"),setTimeout((function(){document.querySelector("#login").classList.add("scaled")}),50)},children:"Sign In"})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{className:"register-btn w-100",onClick:function(){document.querySelector(".register-btn").style.backgroundColor="white",document.querySelector(".login-btn").style.backgroundColor="#f1f1f1",document.querySelector("#login").style.display="none",document.querySelector("#register").style.display="block",document.querySelector("#login").classList.remove("scaled"),setTimeout((function(){document.querySelector("#register").classList.add("scaled")}),50)},children:"Sign Up"})})]})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{id:"login",className:"scaled",children:[Object(m.jsx)("div",{className:"alertz danger login-error",children:Object(m.jsx)("p",{className:"login-error-text",children:"hi"})}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{className:"input login-username-input",onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Username",onKeyDown:_}),Object(m.jsx)("div",{className:"login-username-error",children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{onChange:function(e){return o(e.target.value)},className:"input login-password-input input-password",type:"password",placeholder:"Password",onKeyDown:_}),Object(m.jsx)("div",{className:"login-password-error",children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:k,id:"loginbtn",className:"btn2 w-100 mb-2",children:"Login"})]}),Object(m.jsxs)("div",{id:"register",children:[Object(m.jsx)("div",{className:"alertz danger register-error",children:Object(m.jsx)("p",{className:"register-error-text",children:"hi"})}),Object(m.jsx)("div",{className:"alertz success register-success",children:Object(m.jsx)("p",{className:"register-success-text",children:"hi"})}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{id:"username",onChange:function(e){return x(e.target.value)},className:"input",type:"text",onKeyDown:C,placeholder:"Username"}),Object(m.jsx)("div",{className:"register-username-error",children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{className:"input input-password",type:"password",placeholder:"Password",id:"password",onKeyDown:C,onChange:function(e){return v(e.target.value)}}),Object(m.jsx)("div",{className:"register-password-error",children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{className:"input input-password",type:"password",placeholder:"Confirm Password",id:"confirmpassword",onKeyDown:C,onChange:function(e){return w(e.target.value)}}),Object(m.jsx)("div",{className:"register-confirmpassword-error",children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:q,id:"registerbtn",className:"btn2 w-100 mb-2",children:"Register"})]})]})})})};var S=function(e){var t=Object(c.useState)([]),s=Object(u.a)(t,2),i=s[0],r=s[1],n=document.querySelector(".nav-ul"),o=Object(l.g)().pathname,b=Object(c.useState)([]),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)([]),g=Object(u.a)(p,2),f=g[0],v=g[1],N=Object(l.f)();function y(){n.classList.remove("open"),document.querySelector(".menu").classList.remove("openmenu")}function S(){document.querySelector(".login-registerbg").classList.toggle("d-active"),document.querySelector(".login-register").classList.toggle("d-active"),setTimeout((function(){document.querySelector(".login-register-form").classList.toggle("scaled")}),10)}function w(){var e=document.querySelector(".mobile-dropdown-category"),t=document.querySelector(".categorybg");e.classList.toggle("mobile-dropdown-open"),t.classList.toggle("d-active")}function T(){var e=document.querySelector(".mobile-dropdown-category"),t=document.querySelector(".categorybg");e.classList.toggle("mobile-dropdown-open"),t.classList.toggle("d-active"),y()}function k(){localStorage.removeItem("token"),x(""),document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.remove("success"),document.querySelector(".bottom-alert").classList.add("warning"),document.querySelector("#bottom-alert-text").innerHTML="You exit successfully",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3),N.push("/")}function q(){var e=document.querySelector(".account-dropdown");e.classList.toggle("d-active"),setTimeout((function(){e.classList.toggle("account-dropdown-animate")}),20)}function C(){y();var e=document.querySelector(".account-dropdown");e.classList.toggle("d-active"),setTimeout((function(){e.classList.toggle("account-dropdown-animate")}),20)}return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/api/user/",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return x(e),fetch("http://localhost:8000/api/profile_list/").then((function(e){return e.json()})).then((function(t){return v(t.filter((function(t){return t.user===e.id})))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/api/category_list/").then((function(e){return e.json()})).then((function(e){return r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"container",style:{position:"relative"},children:[Object(m.jsx)("div",{className:"logo",children:Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"theme-color",children:"Isiolo"}),"Times"]})}),Object(m.jsxs)("ul",{className:"nav-ul",style:{marginLeft:"9rem"},children:[Object(m.jsx)("li",{className:"nav-li",children:Object(m.jsx)(a.c,{exact:!0,to:"/",onClick:y,activeClassName:"active",children:"Home"})}),Object(m.jsx)("li",{className:"nav-li",children:Object(m.jsx)(a.c,{to:"/articles/",onClick:y,activeClassName:"active",children:"Articles"})}),Object(m.jsx)("li",{className:"nav-li",children:Object(m.jsx)(a.c,{to:"/about/",onClick:y,activeClassName:"active",children:"About"})}),Object(m.jsxs)("li",{className:"nav-li",children:[Object(m.jsxs)("span",{onClick:w,style:{cursor:"pointer"},children:["Categories ",Object(m.jsx)("i",{className:"fas fa-caret-down"})]}),Object(m.jsx)("ul",{className:"dropdown-ul",children:i.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(a.b,{to:"/category/".concat(e.id),className:"dropdown-linkz",children:e.title})},e.id)}))})]}),Object(m.jsx)("li",{className:"row btnsrow",style:{marginLeft:"6rem"},children:O.username?Object(m.jsx)(m.Fragment,{children:f.map((function(e){return Object(m.jsxs)("span",{children:[Object(m.jsxs)("button",{className:"account-dropdown-btn",onClick:q,children:[Object(m.jsx)("img",{src:"".concat(e.profile_pic),className:"account-dropdown-btn-img",onError:function(){return document.querySelector(".account-dropdown-btn-img").src="https://i.ibb.co/J3cGYxy/default-user-image.png"}}),O.username," ",Object(m.jsx)("i",{className:"fas fa-caret-down"})]}),Object(m.jsx)("div",{className:"account-dropdown",children:Object(m.jsxs)("ul",{style:{listStyle:"none"},children:[Object(m.jsx)("li",{children:Object(m.jsxs)(a.b,{onClick:C,to:"/profile/",children:[Object(m.jsx)("i",{class:"fas fa-user pr-2",style:{marginRight:"0.5rem",color:"#adadad",fontSize:"18px"}})," ","Profile"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("button",{onClick:k,id:"logout",children:[" ",Object(m.jsx)("i",{class:"fas fa-sign-out-alt",style:{marginRight:"0.5rem",color:"red",fontSize:"18px"}}),"Logout"]})})]})})]},e.id)}))}):Object(m.jsx)("button",{onClick:S,className:"btn",style:{backgroundColor:"#e63e22",color:"white"},children:"Sign In"})})]}),Object(m.jsx)("div",{className:"w-100 bar",style:{zIndex:10},children:Object(m.jsxs)("div",{className:"menu",onClick:function(){n.classList.toggle("open"),document.querySelector(".menu").classList.toggle("openmenu")},children:[Object(m.jsx)("div",{className:"burger",id:"burger1"}),Object(m.jsx)("div",{className:"burger",id:"burger2"}),Object(m.jsx)("div",{className:"burger",id:"burger3"})]})})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mobile-dropdown-category",children:Object(m.jsx)("ul",{children:0==i.length?Object(m.jsx)("p",{style:{color:"white"},children:"There is no any Category"}):i.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)(a.b,{onClick:T,to:"/category/".concat(e.id),children:e.title}),Object(m.jsx)("hr",{style:{backgroundColor:"rgb(66 66 66 / 12%)"}})]},e.id)}))})}),Object(m.jsx)("div",{className:"categorybg",onClick:w}),Object(m.jsx)("div",{className:"login-registerbg",onClick:S})]}),Object(m.jsx)(L,{}),Object(m.jsx)("div",{className:"bottom-alert",children:Object(m.jsx)("span",{id:"bottom-alert-text"})})]})};var w=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("footer",{children:Object(m.jsx)("div",{className:"text-center",children:"\xa9IsioloTimes 2022. All rights reserved."})})})};var T=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),s=t[0],i=t[1],r=Object(c.useState)([]),n=Object(u.a)(r,2),l=n[0],o=n[1],b=Object(c.useState)([]),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(),g=Object(u.a)(p,2),f=g[0],v=g[1],N=Object(c.useState)(!1),y=Object(u.a)(N,2),L=y[0],S=y[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:8000/api/category_list/").then((function(e){return e.json()})).then((function(e){return i(e)})),fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return x(e.sort((function(e,t){return e.id<t.id?1:-1})))})),fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return o(e.sort((function(e,t){return e.likes<t.likes?1:-1})).slice(0,5))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var w=Object(c.useState)(O.filter((function(e){return e.title.toLowerCase().includes("**********")}))),T=Object(u.a)(w,2),k=T[0],q=T[1];function C(e){v(""),q(O.filter((function(e){return e.title.toLowerCase().includes("***********")})))}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"right-side",children:[Object(m.jsx)("div",{className:"search-div",style:{position:"relative"},children:Object(m.jsxs)("form",{className:"search",children:[Object(m.jsx)("input",{autoComplete:"off",onChange:function(e){return function(e){S(!0),v(e.target.value),""!==e.target.value?q(O.filter((function(t){return t.title.toLowerCase().includes(e.target.value.toLowerCase())}))):q(O.filter((function(e){return e.title.toLowerCase().includes("***********")}))),setTimeout((function(){S(!1)}),400)}(e)},value:f,placeholder:"Search post"}),Object(m.jsx)("i",{class:"fas fa-search"}),Object(m.jsx)("ul",{className:"search-ul",children:L?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("li",{className:"search-loading-li",style:{display:"flex"},children:[Object(m.jsx)("div",{className:"search-load-img"}),Object(m.jsx)("span",{className:"search-load-text"})]}),Object(m.jsxs)("li",{className:"search-loading-li",style:{display:"flex"},children:[Object(m.jsx)("div",{className:"search-load-img"}),Object(m.jsx)("span",{className:"search-load-text"})]}),Object(m.jsxs)("li",{className:"search-loading-li",style:{display:"flex"},children:[Object(m.jsx)("div",{className:"search-load-img"}),Object(m.jsx)("span",{className:"search-load-text"})]}),Object(m.jsxs)("li",{className:"search-loading-li",style:{display:"flex"},children:[Object(m.jsx)("div",{className:"search-load-img"}),Object(m.jsx)("span",{className:"search-load-text"})]})]}):k.map((function(e){return Object(m.jsx)(a.b,{to:"/article/".concat(e.url),onClick:C,children:Object(m.jsxs)("li",{style:{display:"flex"},children:[Object(m.jsx)("img",{alt:e.title,src:e.img}),Object(m.jsx)("span",{children:e.title})]})},e.id)}))})]})}),Object(m.jsxs)("div",{className:"right-component kategoriler",children:[Object(m.jsx)("h5",{className:"component-title",children:"Categories"}),Object(m.jsx)("br",{}),s.map((function(e){return Object(m.jsxs)("span",{children:[Object(m.jsx)(a.b,{to:{pathname:"/category/".concat(e.id)},className:"kategori-link",children:e.title}),Object(m.jsx)("hr",{})]},e.id)}))]}),Object(m.jsxs)("div",{className:"right-component most-liked",children:[Object(m.jsx)("h5",{className:"component-title",children:"Most Popular Articles"}),Object(m.jsx)("br",{}),l.map((function(e){return Object(m.jsxs)(a.b,{to:"/article/".concat(e.url),style:{textDecoration:"none"},children:[Object(m.jsxs)("div",{className:"row mb-2",style:{borderRadius:"5px"},children:[Object(m.jsx)("img",{alt:e.title,src:e.img,className:"most-liked-img"}),Object(m.jsx)("div",{className:"most-liked-title",children:Object(m.jsxs)("p",{children:[e.title.substr(0,55),"..."]})})]}),Object(m.jsx)("hr",{})]},e.id)}))]})]})})};var k=function(e){var t=Object(c.useState)([]),s=Object(u.a)(t,2),i=s[0],r=s[1];return Object(c.useEffect)((function(){fetch("http://localhost:8000/api/profile_list/").then((function(e){return e.json()})).then((function(t){return r(t.filter((function(t){return t.user===e.user})))}))}),[e]),Object(m.jsx)(m.Fragment,{children:i.map((function(t){return Object(m.jsx)("div",{className:"message mt-3",id:"message".concat(e.id),children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("img",{className:"message-real-img",onError:function(e){return function(e){e.target.src="https://i.ibb.co/J3cGYxy/default-user-image.png"}(e)},src:"".concat(t.profile_pic)}),Object(m.jsxs)("div",{className:"message-text",children:[Object(m.jsxs)("h2",{children:[e.username," ",Object(m.jsxs)("span",{className:"message-date",children:[" ",e.date]})]}),Object(m.jsx)("p",{children:e.text})]})]})},t.id)}))})};var q=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("article",{className:"loading-article mb-4",children:[Object(m.jsx)("div",{className:"loading-article-img"}),Object(m.jsxs)("div",{className:"article-text",children:[Object(m.jsx)("p",{}),Object(m.jsx)("div",{className:"texts mb-3"}),Object(m.jsx)("div",{className:"date"}),Object(m.jsx)("div",{className:"texts"})]})]}),Object(m.jsx)("div",{className:"loading-message mt-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"loading-message-real-img"}),Object(m.jsxs)("div",{className:"loading-message-text",children:[Object(m.jsx)("h2",{}),Object(m.jsx)("p",{})]})]})}),Object(m.jsx)("div",{className:"loading-message mt-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"loading-message-real-img"}),Object(m.jsxs)("div",{className:"loading-message-text",children:[Object(m.jsx)("h2",{}),Object(m.jsx)("p",{})]})]})}),Object(m.jsx)("div",{className:"loading-message mt-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"loading-message-real-img"}),Object(m.jsxs)("div",{className:"loading-message-text",children:[Object(m.jsx)("h2",{}),Object(m.jsx)("p",{})]})]})})]})};var C=function(e){var t=Object(c.useState)(""),s=Object(u.a)(t,2),i=s[0],r=s[1],n=Object(c.useState)([]),a=Object(u.a)(n,2),l=a[0],o=a[1],d=window.location.pathname.split("/").pop(),j=document.querySelector(".textarea"),b=document.querySelector(".textarea-error");function h(t){if(l.id){""===i?(b.classList.add("d-active"),j.classList.add("error")):(b.classList.remove("d-active"),j.classList.remove("error"));var s=l.username;e.AddComment({text:i,username:s}),r("")}else""===i?(b.classList.add("d-active"),j.classList.add("error")):(b.classList.remove("d-active"),j.classList.remove("error"),document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.remove("success"),document.querySelector(".bottom-alert").classList.add("warning"),document.querySelector("#bottom-alert-text").innerHTML="You have to sign in to send a comment",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3))}return Object(c.useEffect)((function(){fetch("http://localhost:8000/api/user/",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[d]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"add-comment",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",style:{position:"relative"},children:[Object(m.jsx)("div",{className:"col-md-8",children:Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{value:i,placeholder:"Message",onKeyDown:function(e){"Enter"===e.key&&h()},onChange:function(e){""!==i&&(j.classList.remove("error"),b.classList.remove("d-active")),r(e.target.value)},className:"textarea"}),Object(m.jsx)("div",{className:"textarea-error",style:{width:"20px"},children:Object(m.jsx)("i",{class:"fas fa-exclamation-circle"})})]})}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)("button",{onClick:h,className:"btn2 w-100",children:"Send"})})]})})})})};var _=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),i=s[0],r=s[1],n=Object(c.useState)([]),a=Object(u.a)(n,2),o=a[0],b=a[1],h=Object(c.useState)([]),x=Object(u.a)(h,2),p=x[0],g=x[1],f=Object(c.useState)([]),v=Object(u.a)(f,2),N=v[0],L=v[1],S=Object(l.f)(),w=0,_=Object(l.h)().url,E=window.location.pathname.split("/").pop();function F(e){fetch("http://localhost:8000/api/user/",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return L(e)})),function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return fetch("http://localhost:8000/api/comment_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return g(e)})),t.next=3,fetch("http://localhost:8000/api/comment_list/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({text:String(e.text),post:parseInt(w),user:parseInt(N.id),username:String(e.username)})});case 3:fetch("http://localhost:8000/api/comment_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return g(e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}function I(){var e=document.querySelector(".fa-heart"),t=document.querySelector("#likespan");N.id?e.classList.contains("liked")?(e.classList.remove("liked"),t.innerHTML=parseInt(t.innerHTML)-1,fetch("http://localhost:8000/api/remove_like_post/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({articleid:o[0].id,userid:N.id})})):(e.classList.add("liked"),t.innerHTML=parseInt(t.innerHTML)+1,fetch("http://localhost:8000/api/like_post/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({articleid:o[0].id,userid:N.id})})):(document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.remove("success"),document.querySelector(".bottom-alert").classList.add("warning"),document.querySelector("#bottom-alert-text").innerHTML="You have to sign in to like the article",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3))}function M(){var e=document.querySelector("#messages-side"),t=document.querySelector("#messages-side-bg");e.classList.toggle("open"),t.classList.toggle("d-block")}return Object(c.useEffect)((function(){r(!0);fetch("http://localhost:8000/api/post_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return b(e),0!=e.filter((function(e){return e.url===_})).length?b(e.filter((function(e){return e.url===_}))):S.push("/404/")})),fetch("http://localhost:8000/api/comment_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return g(e)})),setTimeout((function(){r(!1)}),500),fetch("http://localhost:8000/api/user/",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return L(e)}))}),[E]),Object(m.jsxs)("main",{children:[Object(m.jsx)("div",{className:"container",style:{marginTop:"6rem"},children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"mb-4 col-lg-8",children:i?Object(m.jsx)(q,{}):o.filter((function(e){return e.url===_})).map((function(e){return Object(m.jsx)("article",{children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{alt:e.title,src:e.img,className:"article-img"}),Object(m.jsx)("p",{style:{display:"none"},children:w=e.id}),Object(m.jsxs)("div",{className:"article-text",children:[Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsxs)("span",{className:"span",children:["Created Date ",e.created_date," by Burhan Kocada\u011f"]}),Object(m.jsx)("h1",{children:e.title})]}),Object(m.jsx)("div",{children:O()(e.description)}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{style:{cursor:"pointer"},onClick:I,children:[Object(m.jsx)("span",{id:"likespan",children:e.likes.length}),Object(m.jsx)("i",{className:"fas fa-heart ".concat(""!=e.likes.filter((function(e){return e===N.id}))?"liked":"")})," "]}),Object(m.jsx)("div",{style:{position:"absolute",bottom:"0",width:"100%"}}),Object(m.jsxs)("span",{onClick:M,children:[Object(m.jsx)("span",{id:"commentspan",style:{marginLeft:"1.5rem",cursor:"pointer"},children:p.filter((function(e){return e.post===w})).length}),Object(m.jsx)("i",{className:"fas fa-comments"})]})]})]})},e.id)}))}),Object(m.jsx)("div",{className:"col-lg-4",children:Object(m.jsx)(T,{categories:e.categories})})]})})}),Object(m.jsx)("img",{className:"heart-gif"}),Object(m.jsx)("div",{id:"messages-side-bg",onClick:M}),Object(m.jsx)("div",{id:"messages-side",children:Object(m.jsxs)("div",{style:{position:"relative"},children:[o.map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"article-message",children:Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("img",{src:e.img}),Object(m.jsx)("p",{children:e.title})]})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"p-2 message-side-messages",style:{height:"500px",overflowY:"scroll"},children:0!=p.filter((function(e){return e.post===w})).length?p.sort((function(e,t){return e.id<t.id?1:-1})).filter((function(e){return e.post===w})).map((function(e){return 1,Object(m.jsx)(k,{date:e.created_date,user:e.user,username:e.username,text:e.text},e.id)})):Object(m.jsx)("div",{id:"comments-alert",children:Object(m.jsx)("span",{children:"There is no comments"})})}),Object(m.jsx)(C,{AddComment:F,id:w})]})})),Object(m.jsx)("i",{class:"fas fa-times delete",onClick:function(){var e=document.querySelector("#messages-side"),t=document.querySelector("#messages-side-bg");e.classList.toggle("open"),t.classList.toggle("d-block")}})]})})]})},E=s(41);var F=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),i=s[0],r=s[1],n=Object(c.useState)([]),a=Object(u.a)(n,2),l=a[0],o=a[1],b=Object(c.useState)(0),h=Object(u.a)(b,1)[0],O=Object(c.useState)(4),g=Object(u.a)(O,2),f=g[0],v=g[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return o(e.sort((function(e,t){return e.id<t.id?1:-1})).slice(h,f))}));case 3:setTimeout((function(){r(!1)}),400);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return o(e.sort((function(e,t){return e.id<t.id?1:-1})).slice(0,2*f))})),v(2*f)}),500);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"container",style:{marginTop:"6rem"},children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-12 col-sm-12 col-lg-8",children:Object(m.jsx)("div",{className:"left-side",children:Object(m.jsx)("div",{className:"row",children:i?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})})]}):0!=l.length?Object(m.jsx)(E.a,{style:{overflow:"unset"},dataLength:l.length,next:N,hasMore:!0,children:Object(m.jsx)("div",{className:"row",children:l.map((function(e){return Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(x,{post:e})},e.id)}))})}):Object(m.jsx)("div",{className:"warning-alert mb-3",children:"There is no articles."})})})}),Object(m.jsx)("div",{className:"col-md-12 col-sm-0 col-lg-4",children:Object(m.jsx)(T,{categories:e.categories})})]})})})})})};var I=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),i=s[0],r=s[1],n=Object(c.useState)([]),a=Object(u.a)(n,2),o=a[0],b=a[1],h=window.location.pathname.split("/").pop();Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("http://localhost:8000/api/post_list/").then((function(e){return e.json()})).then((function(e){return b(e)}));case 3:setTimeout((function(){r(!1)}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var O=Object(l.h)().id;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"container",style:{marginTop:"6rem"},children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-12 col-sm-12 col-lg-8",children:Object(m.jsx)("div",{className:"left-side",children:Object(m.jsx)("div",{className:"row",children:i?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(p,{})})]}):o.filter((function(e){return e.category===parseInt(O)})).sort((function(e,t){return e.id<t.id?1:-1})).map((function(e){return Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)(x,{post:e})},e.id)}))})})}),Object(m.jsx)("div",{className:"col-md-12 col-sm-0 col-lg-4",children:Object(m.jsx)(T,{categories:e.categories})})]})})})})})};var M=function(){var e=Object(l.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};var H=function(){return Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"container",style:{marginTop:"6rem"},children:Object(m.jsx)("div",{className:"about",children:Object(m.jsxs)("div",{className:"rawz",style:{display:"flex"},children:[Object(m.jsx)("div",{className:"top",children:Object(m.jsx)("div",{className:"about-social-media mt-5",children:Object(m.jsxs)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/isiolotimes",className:"about-links",children:[Object(m.jsx)("i",{className:"fab fa-twitter"})," Twitter"]})})}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)("p",{children:" IsioloTimes."}),Object(m.jsx)("p",{children:"Isiolo times bring you the latest and most relvant news from Isiolo County and the ASAL Region"}),Object(m.jsx)("p",{children:" WE BRING YOU NEWS RANGING FROM;"}),Object(m.jsx)("p",{children:"POLITICS, HEALTH ,SPORTS ,CULTURE ,BUSINESS"}),Object(m.jsx)("p",{children:"Email: info@isiolotimes.com"})]})]})})})})};s(94);var A=function(){return Object(m.jsx)("main",{className:"main404",children:Object(m.jsxs)("div",{className:"maindiv",children:[Object(m.jsx)("h1",{className:"title404",children:"404"}),Object(m.jsx)("h2",{className:"text404",children:"PAGE NOT FOUND!"}),Object(m.jsx)("br",{}),Object(m.jsxs)(a.b,{to:"/",className:"btn2",children:["Home Page ",Object(m.jsx)("i",{class:"fas fa-long-arrow-alt-right"})]})]})})};var P=function(e){return Object(m.jsx)("div",{className:"loading-message mt-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"loading-message-real-img"}),Object(m.jsxs)("div",{className:"loading-message-text",children:[Object(m.jsx)("h2",{}),Object(m.jsx)("span",{className:"loading-message-date"}),Object(m.jsx)("p",{})]})]})})};var G=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"loading-profile-img"}),Object(m.jsx)("div",{className:"loading-profile-username"}),Object(m.jsx)("p",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6 mb-2",children:[Object(m.jsx)("div",{id:"loading-likespan"})," "]}),Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("div",{id:"loading-commentspan"})," "]})]})}),Object(m.jsx)("hr",{})]})};var R=function(){var e=Object(l.f)(),t=Object(l.g)().pathname,s=Object(c.useState)([]),i=Object(u.a)(s,2),r=i[0],n=i[1],a=Object(c.useState)([]),o=Object(u.a)(a,2),b=o[0],h=o[1],O=Object(c.useState)([]),x=Object(u.a)(O,2),p=x[0],g=x[1],f=Object(c.useState)(!1),v=Object(u.a)(f,2),N=v[0],L=v[1],S=Object(c.useState)([]),w=Object(u.a)(S,2),T=w[0],q=w[1];function C(e){var t=document.querySelector("#opiton".concat(e.target.classList[2]));t.classList.toggle("d-active"),setTimeout((function(){t.classList.toggle("account-dropdown-animate")}),20)}function _(e){fetch("http://localhost:8000/api/remove_comment/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({user_id:r.id,comment_id:e.target.id})}),document.querySelector("#message"+e.target.id).classList.add("translateX-100"),setTimeout((function(){document.querySelector("#message"+e.target.id).classList.add("d-none")}),500);for(var t=document.querySelectorAll(".message-option"),s=0,c=t.length;s<c;s++)t[s].classList.remove("d-active");document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.remove("success"),document.querySelector(".bottom-alert").classList.add("warning"),document.querySelector("#bottom-alert-text").innerHTML="Message deleted succesfully",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3)}function E(){document.querySelector(".img-editbg").classList.toggle("d-active"),document.querySelector(".img-edit").classList.toggle("d-active"),setTimeout((function(){document.querySelector(".img-edit-form").classList.toggle("scaled")}),10)}return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.next=3,fetch("http://localhost:8000/api/user/",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){return t.detail?e.push("/"):n(t),fetch("http://localhost:8000/api/profile_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return h(e.filter((function(e){return e.user===t.id})))})),fetch("http://localhost:8000/api/comment_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return q(e.filter((function(e){return e.user===t.id})))})),fetch("http://localhost:8000/api/post_list/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return g(e.filter((function(e){return e.likes.find((function(e){return e===t.id}))})))}))}));case 3:setTimeout((function(){L(!1)}),500);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[t]),Object(m.jsxs)("main",{className:"profile",children:[Object(m.jsx)("div",{className:"container",style:{marginTop:"6rem"},children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-4 mb-3 col-sm-12 col-lg-3",children:Object(m.jsx)("div",{className:"left-side",children:Object(m.jsx)("div",{className:"text-center",children:N?Object(m.jsx)(G,{}):b.map((function(e){return Object(m.jsxs)("span",{children:[Object(m.jsx)("div",{style:{position:"relative"},children:Object(m.jsx)("img",{src:e.profile_pic?e.profile_pic:"https://i.ibb.co/J3cGYxy/default-user-image.png",onError:function(){return document.querySelector("#profile-img").src="https://i.ibb.co/J3cGYxy/default-user-image.png"},className:"profile-img",id:"profile-img",onClick:E})}),Object(m.jsx)("h1",{className:"profile-username",children:r.username}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"col-md-12",style:{padding:"0 1rem"},children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("span",{id:"likespan",children:p.length})," ",Object(m.jsx)("i",{className:"fas fa-heart"})]}),Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("span",{id:"commentspan",children:T.length})," ",Object(m.jsx)("i",{className:"fas fa-comments"})]})]})}),Object(m.jsx)("hr",{})]},e.id)}))})})}),Object(m.jsx)("div",{className:"col-md-8 col-lg-9 col-sm-12",style:{overflowY:"scroll",height:"800px"},children:Object(m.jsxs)("div",{className:"right-side",children:[Object(m.jsx)("h5",{children:"Your comments "}),N?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)(P,{}),Object(m.jsx)(P,{}),Object(m.jsx)(P,{}),Object(m.jsx)(P,{}),Object(m.jsx)(P,{}),Object(m.jsx)(P,{})]}):0!=T.length?T.sort((function(e,t){return e.id<t.id?1:-1})).map((function(e){return Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(k,{date:e.created_date,user:e.user,username:e.username,text:e.text,id:e.id},e.id),Object(m.jsx)("i",{onClick:C,className:"fas fa-ellipsis-v ".concat(e.id)}),Object(m.jsx)("div",{id:"opiton".concat(e.id),className:"message-option",children:Object(m.jsxs)("span",{id:e.id,style:{cursor:"pointer"},onClick:_,children:[Object(m.jsx)("i",{id:e.id,className:"fas fa-trash-alt"}),Object(m.jsx)("span",{id:e.id,children:"Delete"})]})})]},e.id)})):Object(m.jsx)("div",{className:"mt-3",id:"comments-alert",children:Object(m.jsx)("span",{children:"There is no comments"})})]})})]})})}),Object(m.jsx)("div",{className:"img-edit",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"img-edit-form",children:[Object(m.jsx)("h5",{children:"Edit Profile Picture"}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{id:"login",className:"scaled",children:[Object(m.jsx)("div",{className:"alertz danger login-error",children:Object(m.jsx)("p",{className:"login-error-text",children:"hi"})}),b.map((function(e){return Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{className:"input img-edit-input",type:"text",placeholder:"URL of the Image",defaultValue:e.profile_pic,onChange:function(e){return document.querySelector(".edit-profile-img").setAttribute("src",e.target.value)}}),Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("h5",{children:"Preview"}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("img",{src:e.profile_pic,className:"edit-profile-img"})}),Object(m.jsx)("div",{className:"login-username-error",children:Object(m.jsx)("i",{className:"fas fa-exclamation-circle"})})]},e.id)})),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(){fetch("http://localhost:8000/api/edit_picture/",{method:"POST",headers:{accept:"application/json","Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify({user_id:r.id,img:document.querySelector(".img-edit-input").value})}).then((function(e){return e.json()})).then((function(e){return e.user_id?(document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert"),document.querySelector(".bottom-alert").classList.remove("success"),document.querySelector(".bottom-alert").classList.add("success"),document.querySelector("#bottom-alert-text").innerHTML="You changed your profile picture successfully",setTimeout((function(){document.querySelector(".bottom-alert").classList.toggle("open-bottom-alert")}),2e3)):""}))},id:"savebtn",className:"btn2 w-100 mb-2",children:"Save"})]})]})})}),Object(m.jsx)("div",{className:"img-editbg",onClick:E})]})};var z=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(a.a,{children:[Object(m.jsx)(M,{}),Object(m.jsx)(S,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(v,{})}),Object(m.jsx)(l.a,{path:"/article/:url",children:Object(m.jsx)(_,{})}),Object(m.jsx)(l.a,{path:"/category/:id",children:Object(m.jsx)(I,{})}),Object(m.jsx)(l.a,{path:"/articles/",children:Object(m.jsx)(F,{})}),Object(m.jsx)(l.a,{path:"/about",children:Object(m.jsx)(H,{})}),Object(m.jsx)(l.a,{path:"/profile",children:Object(m.jsx)(R,{})}),Object(m.jsx)(l.a,{children:Object(m.jsx)(A,{})})]}),Object(m.jsx)(w,{})]})})};n.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.6aebeddc.chunk.js.map